function getPrefix(){var e=["webkit","moz","ms","o"];if("hidden"in window.document)return"hidden";for(var n=0;n<e.length;n++)if(e[n]+"Hidden"in window.document)return e[n]+"Hidden";return null}function isHidden(){return visProp?window.document[visProp]:!1}function visChange(e,n){isHidden()?(GEN_DEBUG&&console.log("hidden callback fired"),n()):(GEN_DEBUG&&console.log("visible callback fired"),e())}function startTimer(){GEN_DEBUG&&console.log("Starting Timer at: "+time+"seconds"),1800>=time&&(timer=window.setInterval(timeAndReport,1e3))}function stopTimer(){GEN_DEBUG&&console.log("Stopping Timer at: "+time+"seconds"),window.clearInterval(timer)}function timeAndReport(){return time+=1,time>1800?void window.clearInterval(timer):((10===time||30===time||60===time)&&(GEN_DEBUG&&console.log("TimeOnPage: "+time+" seconds | Count: "+count),GOOGLE_ANALYTICS===!0&&ga("send","event","TimeOnPage",count.toString(),time+" seconds",{nonInteraction:1}),count++),void(time>60&&time%60===0&&(minutes++,(5>=minutes||10===minutes||20===minutes||30===minutes)&&(GEN_DEBUG&&console.log("TimeOnPage: "+minutes+" mins | Count: "+count),GOOGLE_ANALYTICS===!0&&ga("send","event","TimeOnPage",count.toString(),minutes+" mins",{nonInteraction:1}),count++))))}var visProp=getPrefix();if(visProp){var visEvent=visProp.replace(/[H|h]idden/,"")+"visibilitychange";window.document.addEventListener(visEvent,function(){visChange(startTimer,stopTimer)})}var time=0,count=1,timer=window.setInterval(timeAndReport,1e3);GEN_DEBUG&&console.log("TimeOnPage: 1 second"),GOOGLE_ANALYTICS===!0&&ga("send","event","TimeOnPage","0","1 second",{nonInteraction:1});var minutes=1;