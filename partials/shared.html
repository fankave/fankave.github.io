<div class="chatEmbedContainer" ng-switch="thisPost.media[0].mediaType">
  <!-- Embed Header -->
  <div id="socialHeaderContainer">
    <span class="postAuthorPhoto">
      <span>
        <a class="thumbnail">
          <img ng-src="{{thisPost.author.photo}}" alt="" onerror="this.src='img/default_user_v3.png'" class="userPhoto" />
        </a>
      </span>
    </span>
    <div id="socialHeader">
      <span class="socialPostUsername">
        {{thisPost.author.name}}
      </span>
      <span class="embedTimestamp">
        <img id="providerLogo" ng-src="{{thisPost.provider.logo}}" />{{thisPost.embedCreatedAt}}
      </span>
    </div>
    <div class="socialAlias">
      @{{thisPost.author.alias}}
    </div>
  </div>

  <!-- Embed Content -->
  <div class="socialContentContainer">
    <div ng-bind-html="thisPost.text | linky" class="postContent socialContent">
      <p>{{thisPost.text}}</p><br> 
    </div>
    <div ng-if="thisPost.playable === true && thisPost.embedHtml !== undefined" ng-bind-html="thisPost.embedHtml" class="postContent socialContent" ng-class="{embedTwitterVideo: thisPost.provider.name === 'Twitter', embedYoutubeVideo: thisPost.provider.name === 'Youtube', embedVineVideo: thisPost.provider.name === 'Vine'}">
    </div>

    <div class="imageContainer" ng-switch-when="image/jpeg && !thisPost.embedHtml">
      <img ng-src="{{thisPost.media[0].url}}" class="cropView" ng-click="imageZoom({imgSrc: thisPost.media[0].url})" onerror="this.style.display='none';" />
    </div>
    <div class="imageContainer" ng-switch-when="image/png && !thisPost.embedHtml">
      <img ng-src="{{thisPost.media[0].url}}" class="cropView" ng-click="imageZoom({imgSrc: thisPost.media[0].url})" onerror="this.style.display='none';" />
    </div>
    <div class="imageContainer" ng-switch-when="image/gif && !thisPost.embedHtml">
      <img ng-src="{{thisPost.media[0].url}}" class="cropView" ng-click="imageZoom({imgSrc: thisPost.media[0].url})" onerror="this.style.display='none';" />
    </div>

    <div ng-switch-when="video/mp4" class="mp4EmbedVideoContainer">
      <video controls="controls" ng-attr-poster="{{thisPost.media[0].thumbUrl}}" class="postVideo" ng-class="{embedTwitterVideo: thisPost.provider.name === 'Twitter', embedYoutubeVideo: thisPost.provider.name === 'Youtube', embedVineVideo: thisPost.provider.name === 'Vine'}">
        <source ng-src="{{trustSource({videoSrc: thisPost.media[0].url})}}" type="video/mp4">
        </video>
    </div> 
  </div>

  <!-- Embed Metrics -->
  <div class="embedSocialButtonsRow socialText">
    <button class="btn-link social-btn" ng-click="preventNav()">
      <!-- <a href="https://twitter.com/intent/tweet?via=FanKave&in_reply_to={{thisPost.tweetId}}"> -->
      <img class="social-metrics-reply" ng-src="img/reply@2x.png" />
      <!-- </a> -->
    </button>
    <span class="social-metrics-label"> {{thisPost.metrics.replyCount}}</span>

    <button class="btn-link social-btn socialRetweet" ng-click="preventNav()">
      <!-- <a href="https://twitter.com/intent/retweet?tweet_id={{thisPost.tweetId}}"> -->
      <img class="social-metrics-retweet" ng-src="img/retweet@2x.png" />
      <!-- </a>  -->
    </button>
    <span class="social-metrics-label">{{thisPost.metrics.retweetCount}}</span>

    <button class="btn-link social-btn socialFavorite" ng-click="preventNav()">
      <!-- <a href="https://twitter.com/intent/like?tweet_id={{thisPost.tweetId}}"> -->
      <img class="social-metrics-heart" ng-src="img/heart@2x.png" />
      <!-- </a> -->
    </button>
    <span class="social-metrics-label">{{thisPost.metrics.likeCount}}</span>
  </div>
</div>