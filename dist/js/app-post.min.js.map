{"version":3,"sources":["PostController.js","SmartStadiumController.js","SocialDirectives.js","ReplyService.js","SocialService.js"],"names":["angular","module","controller","$scope","$sce","$timeout","$window","$location","$sanitize","$routeParams","networkService","ReplyService","TopicService","CommentService","UserInfoService","URIHelper","SplashService","MUService","FileUploader","ForumStorage","UserAgentService","updateScore","leftTeam","getTeamA","rightTeam","getTeamB","score","getScore","undefined","leftTeamScore","points","rightTeamScore","gameStatus","getGameStatus","topicTitle","getTitle","gamePeriod","getGamePeriod","gameClock","getGameClock","console","log","updateCommentInReply","selectedComment","postID","getPostId","getCommentById","NETWORK_DEBUG","tempComment","postAuthorName","author","name","postAuthorPhoto","photo","postTimestamp","createdAt","likeCount","metrics","likes","replyCount","replies","mediaAspectFeed","isLiked","signal","like","topicId","isMyComment","isCurrentUser","id","type","mediaUrl","mediaAspectFull","mediaAspectRatio","mediaOrientation","mediaThumbUrl","shared","embed","embedCreatedAt","embedCreatedAtFull","embedType","embedMedia","providerName","embedLogo","provider","logo","playable","embedHtml","comment","updateReplies","repliesData","len","length","i","tempReply","isMyReply","trustAsHtml","push","justReplied","setTimeout","window","scrollTo","document","body","scrollHeight","isMobileUser","mobileBrowser","mobileUserAgent","getMobileUserAgent","getFromLocalStorage","initPage","pageClass","getTopicId","setPostId","backToTopicButtonTapped","location","href","indexOf","urlQueryStr","slice","url","setPeelUI","userType","$","css","isPeelUser","hidePeelSplash","isSmartStadiumUser","isMI16User","isMWCUser","techMUser","requestReplies","send","getRepliesRequest","getCommentByIdRequest","peelClose","peelWatchOnTV","ga","showId","getPeelShowId","showNewRepliesIndicator","newRepliesIndicatorTapped","checkDirectReply","directComment","focus","triggerRepliesKeyboard","secureLink","isGuestUser","initReplyPage","paddingTop","height","getElementById","style","paddingBottom","$watch","newValue","oldValue","replyDivs","getElementsByClassName","div","thisReply","thisDiv","onclick","e","target","is","this","setToLocalStorage","each","magnificPopup","isUserLoggedIn","isSocketConnected","init","updateLikeComment","isCommentLiked","getUnlikeCommentRequest","getLikeCommentRequest","updateLikeReply","isReplyLiked","unlikeReplyRequest","likeReplyRequest","deleteReply","deleteReplyRequest","reportReplyAsSpam","flagReplyRequest","deleteComment","deleteCommentRequest","reload","reportCommentAsSpam","flagCommentRequest","imageClick","imageURL","event","cancelBubble","stopPropagation","open","items","src","callbacks","bind","preventDefault","close","unbind","notifyNewReplies","registerObserverCallback","trustSrc","trustAsResourceUrl","addEventListener","closeSocket","xLinkActivated","_this","viewScreen","ssActiveScreen","viewHighlights","viewRoster","viewStats","viewProfileStats","exitView","directive","restrict","scope","thisPost","trustSource","shareSubmit","exitShare","highlight","unhighlight","link","elem","attr","embedded","templateUrl","factory","DateUtilityService","Bant","FDSUtility","setReplies","replyData","_replies","tempReplyData","data","results","_replyObject","bant","_topicIdFromReply","notifyObservers","appendToReplies","postReplyData","tempPostedReply","commentId","_currentCommentId","updateReply","replyObj","updateLocalData","newData","updateLikeReplyWithId","liked","tempObject","getReplyById","updateBantLiked","removeReply","splice","getCommentIdByReply","replyGetRequest","uri","varReplyParams","rid","timestamp","Date","getTime","method","encodeURI","replyPostRequest","varPostParams","LIST_REPLIES_URI","getPostReplyRequest","replyId","isReplyToReply","targetType","targetId","createReplyParams","POST_REPLY_URI","lang","content","sections","html","LIKE_REPLY_URI","UNLIKE_REPLY_URI","FLAG_REPLY_URI","DELETE_REPLY_URI","callback","callbackLength","observerCallbacks","pop","isLikedById","updateReplyLocalData","deleteById","flagById","UNFLAG_REPLY_URI","HIDE_REPLY_URI","hideById","UNHIDE_REPLY_URI","_postID","forEach","getTopicIdFromReply","postId","setSocialData","socialData","_socialArray","tempData","_socialObject","isNewObject","_offset","nextOffset","autoObserverCallbacks","getSocialDataRequest","offset","reqOffset","request","LIST_SOCIAL_URI","LIMIT","getSocialDataRequestAuto","formatSocial","tempItem","feedData","embedAuthor","postAuthorAlias","alias","tweetId","tweet","embedProvider","embedText","retweetCount","providerLogo","embedUrl","embedPlayable","mediaType","autoRequest","socialArray","resetSocialOffset"],"mappings":"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","file":"app-post.min.js","sourcesContent":["angular.module(\"PostModule\", [\"NetworkModule\", \"SplashModule\", \"MediaModule\", \"angularFileUpload\"])\n.controller(\"PostController\", [\"$scope\", \"$sce\", \"$timeout\", \"$window\", \"$location\",\"$sanitize\", \"$routeParams\", \"networkService\",\"ReplyService\", \"TopicService\",\"CommentService\", \"UserInfoService\",\"URIHelper\", \"SplashService\", \"MUService\", \"FileUploader\", \"ForumStorage\", \"UserAgentService\",\n\nfunction ($scope, $sce, $timeout, $window, $location, $sanitize, $routeParams, networkService, ReplyService, TopicService, CommentService, UserInfoService,URIHelper,SplashService,MUService,FileUploader,ForumStorage,UserAgentService)\n{\n  // Check For Mobile Browser\n  if (UserAgentService.isMobileUser()){\n    $scope.mobileBrowser = true;\n    $scope.mobileUserAgent = UserAgentService.getMobileUserAgent();\n    console.log(\"MOBILE USER AGENT: \", $scope.mobileUserAgent);\n  } else {\n    $scope.mobileBrowser = false;\n  }\n\n  // Retain & Handle State when Returning From External Links\n  if (ForumStorage.getFromLocalStorage('hasUserVisited') === true){\n    console.log(\"Checking For Existing Session\");\n    $scope.initPage();\n  }\n  var headerHeight;\n\n\t//ga('send', 'pageview', \"/comment/\"+$routeParams.postID);\n\t$scope.pageClass = 'page-post';\n\n\t$scope.postID = $routeParams.postID;\n\t$scope.topicId = TopicService.getTopicId();\n\t//$scope.replies = networkService.getRepliesForPostID();\n\t$scope.justReplied = false;\n\t\n\tReplyService.setPostId($routeParams.postID);\n\n\t$scope.backToTopicButtonTapped = function()\n\t{\n\t\tvar topicId = TopicService.getTopicId();\n    if (window.location.href.indexOf('?') !== -1){\n      var urlQueryStr = window.location.href.slice(window.location.href.indexOf('?'));\n    }\n    if(topicId == undefined)\n      topicId = $scope.comment.topicId;\n    if (urlQueryStr !== undefined){\n      $location.url(\"/topic/\" + topicId + urlQueryStr);\n    } else {\n      $location.url(\"/topic/\" + topicId);\n    }\n\t}\n\n\t$scope.setPeelUI = function(userType){\n\t\tconsole.log(\"Post User Type: \", userType);\n\t\tif (userType === 'peel') {\n      $('#postSection').css('padding-top','104px');\n\t\t\t$('#backToChatContainer').css('margin-top','54px');\n\t\t} else if (userType === 'email') {\n      $('#postSection').css('padding-top','104px');\n    } else if (userType === 'MI16') {\n      // $('#postSection').css('padding-top','54px');\n\t\t} else {\n      $('#postSection').css('padding-top','50px');\n    }\n\t}\n\n  if (UserInfoService.isPeelUser()){\n    $scope.isPeelUser = true;\n    SplashService.hidePeelSplash = true;\n    $scope.setPeelUI('peel');\n  }\n  else if (UserInfoService.isSmartStadiumUser()){\n    $scope.isSmartStadiumUser = true;\n    $scope.setPeelUI('email');\n  }\n  else if (UserInfoService.isMI16User() || UserInfoService.isMWCUser()){\n    $scope.techMUser = true;\n    $scope.setPeelUI();\n  }\n  else {\n    $scope.techMUser = false;\n    $scope.setPeelUI();\n  }\n\n\t$scope.requestReplies = function(){\n\t\t// console.log(\"PostController requestReplies Invoked\");\n\t\tnetworkService.send(ReplyService.getRepliesRequest($scope.postID));\n\t\tvar selectedComment = CommentService.getCommentById($scope.postID);\n\t\tif(selectedComment != undefined){\n\t\t\tupdateCommentInReply(selectedComment);\n\t\t}\n\t\telse{\n\t\t\tconsole.log(\"No data from comment service : TODO handle this with cookies\");\n\t\t\tnetworkService.send(CommentService.getCommentByIdRequest($scope.postID));\n\t\t}\n\t}\n\n\t$scope.peelClose = function()\n\t{\n\t\tconsole.log(\"peelClose()\");\n\t}\n\n\t$scope.peelWatchOnTV = function()\n\t{\n\t\tga('send', 'event', 'Peel', 'click', 'PeelWatchOnTV');\n\t\tconsole.log(\"peelWatchOnTV()\");\n\t\tvar showId = URIHelper.getPeelShowId();\n\t\tif(showId != undefined)\n\t\t\twindow.location = \"peel://tunein/\"+showId;\n\t\telse\n\t\t\twindow.location = \"peel://home\";\n\t}\n\n\t$scope.showNewRepliesIndicator = false;\n\t$scope.newRepliesIndicatorTapped = function()\n\t{\n\t\tconsole.log(\"newRepliesIndicatorTapped\");\n\t\t$scope.showNewRepliesIndicator = false;\n\t\tupdateReplies();\n\t\twindow.scrollTo(0,document.body.scrollHeight);\n\t}\n\n  $scope.checkDirectReply = function() {\n    console.log(\"Checking for Direct Reply \", TopicService.directComment);\n    if (TopicService.directComment){\n      $('#commentField').focus();\n      TopicService.directComment = false;\n    }\n  }\n\n\t$scope.triggerRepliesKeyboard = function() {\n    $('#commentField').focus();\n\t}\n\n  $scope.secureLink = function(url, id) {\n    if (UserInfoService.isGuestUser()){\n      return \"\";\n    } else {\n      return url + id;\n    }\n  };\n\t\n\t$scope.initReplyPage = function(){\n\t\t$scope.pageClass = 'page-post';\n\t\t$scope.paddingTop = \"20\";\n\t\t// $scope.pageStyle = {'padding-top': '10em'};\n\n\t\t$scope.requestReplies();\n    // $scope.loadingReply = true;\n\t\tvar replyPostHeader = $(\"#replyPost\").height();\n\t\t// console.log(\"height of repy header: \" + replyPostHeader);\n\t\tvar heightString = replyPostHeader + \"px\";\n\t\t// document.getElementById('postHeader').style.height = '3.5em';//heightString;\n\t\t// document.getElementById('postSection').style.paddingTop = '3.5em';\n\t  if ($scope.mobileBrowser === true){\n      document.getElementById('postSection').style.paddingBottom = \"42px\";\n    }\n\n\t\t$scope.$watch(\"replies\", function (newValue, oldValue)\n\t\t {\n  \t\t\t$timeout(function()\n  \t\t\t{\n  \t\t\t\t// setLinks();\n          var replyDivs = document.getElementsByClassName(\"postRow\");\n          for (div in replyDivs){\n            if (newValue != undefined){\n              var thisReply = newValue[div];\n              if (thisReply != undefined){\n                var thisDiv = replyDivs[div];\n                thisDiv.onclick = function(e) {\n                  if ($(e.target).is('a')){\n                    console.log(\"EXTERNAL LINK: \", e, this.id);\n                    ForumStorage.setToLocalStorage('replyBookmark', this.id);\n                    return;\n                  }\n                }\n              }\n            }\n          }\n    \t\t\t$('#commentsContainer').each(function()\n    \t\t\t{\n      \t\t\t\t$('.image-link').magnificPopup({\n        \t\t\t\ttype:'image'\n     \t\t\t\t});\n    \t\t\t});\n  \t\t\t});\n\t\t});\n\t}\n\n\tif(UserInfoService.isUserLoggedIn()){\n\t\tif(!networkService.isSocketConnected())\n\t\t\tnetworkService.init();\n\t\t$scope.initReplyPage();\n\t}\n\telse {\n    $location.url(\"/login\");\n\t}\n\n\t$scope.updateLikeComment = function(id) {\n\t\t// console.log(\"PostController updateLikeComment(\" + id + \")\");\n\t\tif(CommentService.isCommentLiked(id)){\n\t\t\tnetworkService.send(CommentService.getUnlikeCommentRequest(id));\n\t\t}\n\t\telse{\n\t\t\tnetworkService.send(CommentService.getLikeCommentRequest(id));\t\n\t\t}\n\t};\n\n\t$scope.updateLikeReply = function(id) {\n\t\t// console.log(\"PostController Like Reply\");\n\t\tif(ReplyService.isReplyLiked(id)){\n\t\t\tnetworkService.send(ReplyService.unlikeReplyRequest(id));\n\t\t}\n\t\telse{\n\t\t\tnetworkService.send(ReplyService.likeReplyRequest(id));\n\t\t}\n\t};\n\n\t$scope.deleteReply = function(id)\n\t{\n\t\tconsole.log(\"deleteReply(\" + id + \")\");\n\t\tnetworkService.send(ReplyService.deleteReplyRequest(id));\n\t}\n\n\t$scope.reportReplyAsSpam = function(id)\n\t{\n\t\tconsole.log(\"reportReplyAsSpam(\" + id + \")\");\n\t\tnetworkService.send(ReplyService.flagReplyRequest(id));\n\t}\n\n  $scope.deleteComment = function(id)\n  {\n    console.log(\"deleteComment(\" + id + \")\");\n    // $scope.innerButtonTapped = true;\n    networkService.send(CommentService.deleteCommentRequest(id));\n    $location.url(\"/topic/\" + $scope.topicId);\n    $window.location.reload();\n  }\n\n  $scope.reportCommentAsSpam = function(id)\n  {\n    console.log(\"reportCommentAsSpam(\" + id + \")\");\n    // $scope.innerButtonTapped = true;\n    networkService.send(CommentService.flagCommentRequest(id)); \n  }\n\n\t$scope.imageClick = function(imageURL)\n\t{\n\t\tevent.cancelBubble = true;\n\t   if(event.stopPropagation) event.stopPropagation();\n\n\t\t$.magnificPopup.open({\n                    items: {\n                    \ttype:'image',\n                    \tsrc: imageURL,\n                },\n                type: 'inline',\n                callbacks:\n                {\n\t\t\t\t    open: function()\n\t\t\t\t    {\n\t\t\t\t      console.log(\"popup opened\");\n\t\t\t\t      $('body').bind('touchmove', function(e){e.preventDefault()})\n\t\t\t\t    },\n\t\t\t\t    close: function()\n\t\t\t\t    {\n\t\t\t\t      console.log(\"popup closed\");\n\t\t\t\t      $('body').unbind('touchmove')\n\t\t\t\t    }\n\t\t\t\t    // e.t.c.\n\t\t\t\t}\n            });\n\t}\n\n\tfunction updateScore(){\n\t\t//Score update here\n\t\t$scope.leftTeam = TopicService.getTeamA();\n\t\t$scope.rightTeam = TopicService.getTeamB();\n\t\tvar score = TopicService.getScore();\n\t\tif(score != undefined){\n\t\t\t$scope.leftTeamScore = score.points[0];\n\t\t\t$scope.rightTeamScore = score.points[1];\n\t\t}\n\t\t$scope.gameStatus = TopicService.getGameStatus();\n\t\t$scope.topicTitle = TopicService.getTitle();\n\t\tif($scope.gameStatus == \"live\") {\n\t\t\t$scope.gamePeriod = TopicService.getGamePeriod();\n\t\t\t$scope.gameClock = TopicService.getGameClock();\n\t\t}\n\t\tconsole.log(\"Scores updated in replies\");\n\t}\n\n\t function updateCommentInReply(selectedComment){\n\t\tconsole.log(\"Already Had PostID: \", $scope.postID);\n    if (!$scope.postID){\n      $scope.postID = ReplyService.getPostId();\n      console.log(\"Regenerated PostID: \", $scope.postID);\n    }\n    if(selectedComment == undefined){\n\t\t\tselectedComment = CommentService.getCommentById($scope.postID);\n\t\t}\n\t\tif(selectedComment != undefined){\n\t\t\tif(NETWORK_DEBUG) console.log(\"Updated comment in reply triggered\" ); \n\t\t\tvar tempComment = {};\n\t\t\ttempComment = selectedComment;\n\t\t\ttempComment.postAuthorName = selectedComment.author.name;\n\t\t\ttempComment.postAuthorPhoto = selectedComment.author.photo;\n\n\t\t\ttempComment.postTimestamp = selectedComment.createdAt;\n\t\t\ttempComment.likeCount = selectedComment.metrics.likes;\n\t\t\ttempComment.replyCount = selectedComment.metrics.replies;\n\t\t\ttempComment.mediaAspectFeed = selectedComment.mediaAspectFeed;\n\t\t\ttempComment.isLiked = selectedComment.signal.like;\n\t\t\ttempComment.topicId = selectedComment.topicId;\n      tempComment.isMyComment = UserInfoService.isCurrentUser(selectedComment.author.id);\n\n\n      if (tempComment.type === 'media'){\n          tempComment.mediaUrl = selectedComment.mediaUrl;\n          // tempComment.trustedMediaUrl = $scope.trustSrc(tempComment.mediaUrl);\n          tempComment.mediaAspectFeed = selectedComment.mediaAspectFeed;\n          tempComment.mediaAspectFull = selectedComment.mediaAspectFull;\n          tempComment.mediaAspectRatio = selectedComment.mediaAspectRatio;\n          tempComment.mediaOrientation = selectedComment.mediaOrientation;\n          tempComment.mediaThumbUrl = selectedComment.mediaThumbUrl;\n        }\n\n      if (tempComment.type === 'embed'){\n        tempComment.shared = true;\n        tempComment.embed = selectedComment.embed;\n        tempComment.embed.embedCreatedAt = selectedComment.embedCreatedAt;\n        tempComment.embed.embedCreatedAtFull = selectedComment.embedCreatedAtFull;\n\n        if (tempComment.embedType === 'media'){\n          tempComment.mediaUrl = selectedComment.embedMedia.mediaUrl;\n          tempComment.mediaThumbUrl = selectedComment.embedMedia.mediaThumbUrl;\n          tempComment.mediaAspectFeed = selectedComment.embedMedia.mediaAspectFeed;\n          tempComment.mediaAspectFull = selectedComment.embedMedia.mediaAspectFull;\n          tempComment.mediaAspectRatio = selectedComment.embedMedia.mediaAspectRatio;\n          tempComment.mediaOrientation = selectedComment.embedMedia.mediaOrientation;\n        }\n\n        if (tempComment.providerName === \"Twitter\"){\n          tempComment.embed.embedLogo = \"img/twitterLogo@2x.png\";\n        } else {\n          tempComment.embed.embedLogo = selectedComment.embed.provider.logo;\n        }\n\n        if (selectedComment.embed.type === 'link' && selectedComment.embed.playable === true){\n          tempComment.embedHtml = selectedComment.embedHtml;\n        }\n      }\n\n      $scope.comment = tempComment;\n\t\t}\n    // console.log(\"DIRECT COMMENT? \", TopicService.directComment);\n    // if(TopicService.directComment === true){\n    //   setTimeout(function(){$scope.triggerRepliesKeyboard();},1000);\n    //   TopicService.directComment = false;\n    // }\n\t}\n\n\tfunction updateReplies(){\n\t\t//TODO: check with ahmed, these values could be individual scope var.\n\t\tvar repliesData = ReplyService.replies();\n\t\tvar len = repliesData.length;\n\n\t\t$scope.replies = [];\n\n\t\tfor(i=0;i<len;i++){\n\t\t\tvar tempReply = {};\n\t\t\ttempReply = repliesData[i];\n\t\t\ttempReply.postAuthorName = repliesData[i].author.name;\n\t\t\ttempReply.postAuthorPhoto = repliesData[i].author.photo;\n\t\t\ttempReply.isMyReply = UserInfoService.isCurrentUser(repliesData[i].author.id);\n\n\t\t\ttempReply.postTimestamp = repliesData[i].createdAt;\n\t\t\ttempReply.likeCount = repliesData[i].metrics.likes;\n\t\t\ttempReply.replyCount = repliesData[i].metrics.replies;\n\t\t\ttempReply.mediaAspectFeed = repliesData[i].mediaAspectFeed;\n\t\t\ttempReply.isLiked = repliesData[i].signal.like;\n\t\t\t\n      if (tempReply.type === 'media'){\n          tempReply.mediaUrl = repliesData[i].mediaUrl;\n          // tempReply.trustedMediaUrl = $scope.trustSrc(tempReply.mediaUrl);\n          tempReply.mediaAspectFeed = repliesData[i].mediaAspectFeed;\n          tempReply.mediaAspectFull = repliesData[i].mediaAspectFull;\n          tempReply.mediaAspectRatio = repliesData[i].mediaAspectRatio;\n          tempReply.mediaOrientation = repliesData[i].mediaOrientation;\n          tempReply.mediaThumbUrl = repliesData[i].mediaThumbUrl;\n        }\n      if (tempReply.type === 'embed'){\n        tempReply.shared = true;\n        tempReply.embed = repliesData[i].embed;\n        tempReply.embed.embedCreatedAt = repliesData[i].embedCreatedAt;\n        tempReply.embed.embedCreatedAtFull = repliesData[i].embedCreatedAtFull;\n\n        if (tempReply.providerName === \"Twitter\"){\n          tempReply.embed.embedLogo = \"img/twitterLogo@2x.png\";\n        } else {\n          tempReply.embed.embedLogo = repliesData[i].embed.provider.logo;\n        }\n\n        if (repliesData[i].embed.type === 'link' && repliesData[i].embed.playable === true){\n          tempReply.embed.embedHtml = $sce.trustAsHtml(repliesData[i].embedHtml);\n        }\n      }\n\n      $scope.replies.push(tempReply);\n\n\t\t\t// console.log(i +\" : updated replies html : \" +$scope.replies[i].html);\n\t\t\t// console.log(i +\" : updated replies author name: \" +$scope.replies[i].postAuthorName);\n\t\t\t// console.log(i +\" : updated replies author photo: \" +$scope.replies[i].postAuthorPhoto);\n\n\t\t\tif($scope.replies[i].type == \"media\"){\n\t\t\t\t// console.log(i +\" : updated replies media : \" +$scope.replies[i].mediaUrl);\n\t\t\t\t// console.log(i +\" : updated replies media : \" +$scope.replies[i].mediaAspectFeed);\n\t\t\t}\n\t\t\t//console.log(i +\" : updated replies likecount : \" +$scope.replies[i].likeCount);\n\n\t\t}\n  //   console.log(\"DIRECT COMMENT? \", TopicService.directComment);\n\t\t// if(TopicService.directComment === true)\n\t\t// {\n\t\t// \t$scope.triggerRepliesKeyboard();\n\t\t// \tTopicService.directComment = false;\n\t\t// }\n\n\t\tif($scope.justReplied == true)\n\t\t{\n\t\t\tsetTimeout(function()\n\t\t\t\t{ \n\t\t\t\t\tconsole.log(\"Scroll to last reply\");\n\t\t\t\t\twindow.scrollTo(0,document.body.scrollHeight);\n\t\t\t\t\t$scope.justReplied = false;\n\t\t\t\t}, 1000);\n\t\t}\n\t}\n\t \n\t var notifyNewReplies = function(){\n\n\t\t if($scope.replies == undefined)\n\t\t {\n\t\t\t updateReplies();\n\t\t }\n\t\t else {\n\t\t\t var repliesData = ReplyService.replies();\n\t\t\t var len = repliesData.length;\n\t\t\t if($scope.replies.length < len ){\n\t\t\t\t //console.log(\"newReplies triggered\");\n\t\t\t\t if(!UserInfoService.isCurrentUser(repliesData[len-1].author.id)){\n\t\t\t\t\t $scope.showNewRepliesIndicator = true;\n\t\t\t\t }\n\t\t\t\t else{\n\t\t\t\t\t updateReplies();\n\t\t\t\t }\n\t\t\t }\n\t\t\t else{\n\t\t\t\t updateReplies();\n\t\t\t }\n\n\t\t }\n\t }\n\t \n\tReplyService.registerObserverCallback(notifyNewReplies);\n\tTopicService.registerObserverCallback(updateScore);\n\tCommentService.registerObserverCallback(updateCommentInReply, true);\n\n\t$scope.trustSrc = function(src)\n\t{\n    \treturn $sce.trustAsResourceUrl(src);\n  \t}\n\n  $window.addEventListener(\"beforeunload\", function(){\n    networkService.closeSocket();\n    console.log(\"Before Unload: Close Socket\");\n  });\n\n  $scope.xLinkActivated = false;\n\n\n}]);\n\n","angular.module(\"SmartStadiumModule\", [])\n.controller(\"SmartStadiumController\", [\"$scope\", function ($scope){\n  \n  var _this = this;\n  this.viewScreen = false;\n  this.ssActiveScreen;\n\n  this.viewHighlights = function() {\n    _this.ssActiveScreen = 'highlights';\n    _this.viewScreen = true;\n  };\n\n  this.viewRoster = function() {\n    _this.ssActiveScreen = 'roster';\n    _this.viewScreen = true;\n  };\n\n  this.viewStats = function() {\n    _this.ssActiveScreen = 'stats';\n    _this.viewScreen = true;\n  };\n\n  this.viewProfileStats = function() {\n    _this.ssActiveScreen = 'profileStats';\n    _this.viewScreen = true;\n  };\n\n  this.exitView = function() {\n    _this.viewScreen = false;\n  };\n\n}]);","angular.module('SocialModule')\n.directive('shareToChatDialog', ['URIHelper',\n  function (URIHelper) {\n  return {\n    restrict: 'E',\n    scope: {\n      thisPost: '=',\n      trustSource: '&',\n      shareSubmit: '&',\n      exitShare: '&',\n      highlight: '&',\n      unhighlight: '&'\n    },\n    link: function (scope, elem, attr) {\n      if (URIHelper.embedded()){\n        scope.embed = true;\n      }\n    },\n    templateUrl: 'partials/sharePreview.html'\n  };\n}]);","angular.module('NetworkModule')\n.factory('ReplyService', [\"DateUtilityService\",\"Bant\",\"FDSUtility\", \n\tfunction (DateUtilityService,Bant,FDSUtility) {\n\tvar _postID;\n\tvar LIST_REPLIES_URI = \"/v1.0/comment/replies/list/\"\n\tvar POST_REPLY_URI=\"/v1.0/reply/create\";\n\t\n\tvar UPDATE_REPLY_URI = \"/v1.0/reply/content/update/\";\n\tvar DELETE_REPLY_URI = \"/v1.0/reply/delete/\";\n\t\t\n\tvar LIKE_REPLY_URI = \"/v1.0/reply/like/\";\n\tvar UNLIKE_REPLY_URI = \"/v1.0/reply/unlike/\";\n\t\n\tvar HIDE_REPLY_URI = \"/v1.0/reply/hide/\";\n\tvar UNHIDE_REPLY_URI = \"/v1.0/reply/unhide/\";\n\t\n\tvar FLAG_REPLY_URI = \"/v1.0/reply/flag/\";\n\tvar UNFLAG_REPLY_URI = \"/v1.0/reply/unflag/\";\n\t\n\tvar observerCallbacks = [];\n\tvar _replies = [];\n\tvar _topicIdFromReply;\n\tvar _currentCommentId;\n\n\tfunction setReplies(replyData) {\n\t\t_replies = [];\n\t\ttempReplyData = replyData.data.results;\n\t\tif(tempReplyData!= undefined && tempReplyData.length>0){\n\t\t\tvar len = tempReplyData.length;\n\t\t\t// console.log(\"replies #\"+ len);\n\t\t\tfor(i=0;i<len;i++){\n\t\t\t\tvar _replyObject = {};\n\t\t\t\t_replyObject = Bant.bant(tempReplyData[i])\n\t\t\t\tif(_replyObject.id != undefined )\n\t\t\t\t\t_replies.push(_replyObject);\n\t\t\t\t// console.log(\"Reply object\"+_replyObject);\n\t\t\t\t_topicIdFromReply = tempReplyData[i].topicId;;\n\t\t\t}\n\t\t\tnotifyObservers();\n\t\t}\n\t}\n\n\tfunction appendToReplies(postReplyData) {\n\t\tvar tempPostedReply = postReplyData.data;\n\t\tif(tempPostedReply!= undefined){\n\t\t\tconsole.log(\"appendToReplies :\"+tempPostedReply);\n\t\t\tconsole.log(\"Reply comment ID :\"+ tempPostedReply.commentId);\n\t\t\tconsole.log(\"Current comment ID :\"+ _currentCommentId);\n\t\t\tif(tempPostedReply.commentId == _currentCommentId){\n\t\t\tvar _replyObject = Bant.bant(tempPostedReply);\n\t\t\tif(_replyObject.id != undefined )\n\t\t\t\t_replies.push(_replyObject);\n\t\t\tnotifyObservers();\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction updateReply(replyData){\n\t\t//if Replys ID exist, update it \n\t\t//else append to existing list\n\t\tvar replyObj = replyData.data;\n\t\tfor(i=0;i<_replies.length;i++){\n\t\t\tif(_replies[i].id == replyObj.id){\n\t\t\t\t//update\n\t\t\t\t_replies[i] = Bant.bant(replyObj)\n\t\t\t\tconsole.log(\"Reply updated\");\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\tappendToReplies(replyData);\n\t\t// console.log(\"ReplyService update Reply\");\n\t\treturn 0;\n\t}\n\t\n\tfunction updateLocalData(newData){\n\t\tfor(i=0;i<_replies.length;i++){\n\t\t\tif(_replies[i].id == newData.id){\n\t\t\t\t//update\n\t\t\t\t_replies[i] = newData;\n\t\t\t\tif(NETWORK_DEBUG)\n\t\t\t\t\tconsole.log(\"updated Data for id:\"+ _replies[i].id);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction updateLikeReplyWithId(id, liked){\n\t\tif(NETWORK_DEBUG)\n\t\tconsole.log(\"updateLikeReplyWithId :\"+ id + \"   liked \"+ liked);\n\t\tif((id != undefined)){\n\t\t\tvar tempObject;\n\t\t\ttempObject = getReplyById(id);\n\t\t\ttempObject = Bant.updateBantLiked(tempObject, liked);\n\t\t\tupdateLocalData(tempObject);\n\n\t\t\tnotifyObservers();\n\t\t}\n\t\t\n\t}\n\n\tfunction removeReply(replyData){\n\t\tfor(i=0;i<_replies.length;i++){\n\t\t\tif(_replies[i].id == replyData.id){\n\t\t\t\t//remove element\n\t\t\t\t_replies.splice(i,1);\n\t\t\t}\n\t\t}\n\n\t}\n\t\n\tfunction getReplyById(id){\n\t\tif(NETWORK_DEBUG) console.log(\"_replies :\"+ _replies.length);\n\t\tfor(i=0;i<_replies.length;i++){\n\t\t\tif(_replies[i].id == id){\n\t\t\t\t//remove element\n\t\t\t\treturn _replies[i];\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction getCommentIdByReply(id){\n\t\tif(NETWORK_DEBUG) console.log(\"_replies :\"+ _replies.length);\n\t\tfor(i=0;i<_replies.length;i++){\n\t\t\tif(_replies[i].id == id){\n\t\t\t\t//remove element\n\t\t\t\treturn _replies[i].commentId;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction replyGetRequest(uri){\n\t\treturn  varReplyParams = {\"rid\": \"reply\",\n\t\t\t\t\"timestamp\": new Date().getTime(),\n\t\t\t\t\"method\": \"GET\",\n\t\t\t\t\"uri\": encodeURI(uri)};\n\t\t\n\t}\n\t\n\tfunction replyPostRequest(uri){\n\t\treturn varPostParams = {\n\t\t\t\t\"rid\": \"reply\",\n\t\t\t\t\"timestamp\": new Date().getTime(),\n\t\t\t\t\"method\": \"POST\",\n\t\t\t\t\"uri\": encodeURI(uri)}\n\t\t\n\t}\n\t\n\tfunction getRepliesRequest(commentId){\n\t\t_currentCommentId = commentId;\n\t\tvar uri = LIST_REPLIES_URI + commentId;\n\t\treturn replyGetRequest (uri);\n\t\t\n\t}\n\n\tfunction getPostReplyRequest(topicId, commentId,replyData, replyId, isReplyToReply){\n\t\tvar targetType = \"comment\";\n\t\tvar targetId = commentId;\n\t\tif(isReplyToReply != undefined && isReplyToReply == true ){\n\t\t\ttargetType = \"reply\";\n\t\t\ttargetId = replyId;\n\t\t}\n\t\tconsole.log(\"Topicid : \"+topicId,\"commentid : \"+commentId,\"replydata : \"+replyData);\n\t\tvar createReplyParams = replyPostRequest(POST_REPLY_URI);\n\t\tcreateReplyParams.data = \t\n\t\t{\n\t\t\t\t\"lang\": \"en\", \n\t\t\t\t\"content\": {\"sections\":[{\"type\":\"html\",\"html\":replyData}]},\n\t\t\t\t\"target\": {\n\t\t\t\t\t\"type\": targetType, // Target type: “comment” or “reply”.\n\t\t\t\t\t\"id\":targetId,  // Target bant ID of comment or reply.\n\t\t\t\t},\n\n\t\t\t\t\"topicId\": topicId,\n\t\t\t\t\"commentId\": commentId\n\t\t};\n\t\treturn createReplyParams;\n\t}\n\n\tfunction likeReplyRequest(id){\n\t\treturn  replyPostRequest(LIKE_REPLY_URI + id);\n\t}\n\n\tfunction unlikeReplyRequest(id){\n\t\treturn  replyPostRequest(UNLIKE_REPLY_URI + id);\n\t}\n\t\n\t\n\tfunction hideReplyRequest(id){\n\t\treturn  replyPostRequest(HIDE_REPLY_URI + id);\n\t}\n\n\tfunction unhideReplyRequest(id){\n\t\treturn  replyPostRequest(UNHIDE_REPLY_URI + id);\n\t}\n\t\n\tfunction flagReplyRequest(id){\n\t\treturn  replyPostRequest(FLAG_REPLY_URI + id +\"?reason=spam\");\n\t}\n\n\tfunction unflagReplyRequest(id){\n\t\treturn  replyPostRequest(UNFLAG_REPLY_URI + id);\n\t}\n\t\n\tfunction deleteReplyRequest(id){\n\t\treturn  replyPostRequest(DELETE_REPLY_URI + id);\n\t}\n\t\n\t//call this when you know '_replies' has been changed\n\tvar notifyObservers = function(){\n\t\tangular.forEach(observerCallbacks, function(callback){\n\t\t\tcallback();\n\t\t});\n\t};\n\t\n\tfunction registerObserverCallback(callback){\n\t\t//register an observer\n\t\t// console.log(\"reply callback registered\");\n\t\tvar callbackLength  = observerCallbacks.length;\n\t\twhile(callbackLength > 0){\n\t\t\tcallbackLength = observerCallbacks.length;\n\t\t\tobserverCallbacks.pop();\n\t\t}\n\t\tobserverCallbacks.push(callback);\n\t}\n\tfunction isReplyLiked(id){\n\t\treturn FDSUtility.isLikedById(_replies, id);\n\t}\n\t\n\tfunction updateReplyLocalData(uri,id){\n\t\tif(uri == LIKE_REPLY_URI+id){\n\t\t\tconsole.log(\"calling update like \");\n\t\t\tupdateLikeReplyWithId(id, true)\n\t\t}\n\t\telse if(uri == UNLIKE_REPLY_URI+id){\n\t\t\tupdateLikeReplyWithId(id, false)\n\t\t}\n\t\telse if(uri == DELETE_REPLY_URI+id){\n\t\t\t_replies = FDSUtility.deleteById(_replies,id);\n\t\t\tnotifyObservers();\n\t\t\treturn 0;\n\t\t}\n\t\telse if(uri == FLAG_REPLY_URI+id){\n\t\t\t_replies = FDSUtility.flagById(_replies, true);\n\t\t\t}\n\t\telse if(uri == UNFLAG_REPLY_URI+id){\n\t\t\t_replies = FDSUtility.flagById(_replies, false);\n\t\t}\n\t\telse if(uri == HIDE_REPLY_URI+id){\n\t\t\t_replies = FDSUtility.hideById(_replies, true);\n\t\t}\n\t\telse if(uri == UNHIDE_REPLY_URI+id){\n\t\t\t_replies = FDSUtility.hideById(_replies, false);\n\t\t}\n\t}\n\n\t\n\treturn {\n\t\treplies: function(){return _replies },\n\t\tgetTopicIdFromReply: function(){return _topicIdFromReply; },\n\t\tgetPostId: function(){return _postID ;},\n\t\tsetPostId: function(postId){_postID = postId ;},\n\t\tsetReplies:setReplies,\n\t\tupdateReply:updateReply,\n\t\tappendToReplies:appendToReplies,\n\t\tupdateLikeReplyWithId:updateLikeReplyWithId,\n\t\tupdateReplyLocalData:updateReplyLocalData,\n\t\tremoveReply:removeReply,\n\t\tgetPostReplyRequest:getPostReplyRequest,\n\t\tlikeReplyRequest:likeReplyRequest,\n\t\tunlikeReplyRequest:unlikeReplyRequest,\n\t\tdeleteReplyRequest:deleteReplyRequest,\n\t\tflagReplyRequest:flagReplyRequest,\n\t\tregisterObserverCallback:registerObserverCallback,\n\t\tgetRepliesRequest:getRepliesRequest,\n\t\tisReplyLiked:isReplyLiked,\n\t\tgetCommentIdByReply:getCommentIdByReply\n\t};\n\n}]);","angular.module('SocialModule')\n.factory('SocialService', [\"Bant\", \n  function (Bant) {\n  var LIST_SOCIAL_URI = \"/v1.0/channel/social/list/\";\n\n\n  var observerCallbacks = [];\n  var autoObserverCallbacks = [];\n  var _socialArray = [];\n  var _offset = 0;\n  var LIMIT = 20;\n\n\n  function setSocialData(socialData) {\n    _socialArray = [];\n    var tempData = socialData.data.results;\n    var len = tempData.length;\n\n    if (!!tempData && len > 0){\n      for (i = 0; i < len; i++){\n        var _socialObject = Bant.bant(tempData[i]);\n        if (!!_socialObject.id){\n          var isNewObject = true;\n          for(i=0;i<_socialArray.length;i++){\n            if(_socialArray[i].id == _socialObject.id){\n              isNewObject = false;\n              break;\n              }\n            }\n          if(isNewObject)\n            _socialArray.push(_socialObject);\n        }\n      }\n      _offset = socialData.data.nextOffset;\n      console.log(\"Social Array offset : \"+ _offset);\n      if(socialData.rid === \"social\")\n        notifyObservers();\n      else\n        notifyObservers(true);\n    }\n  }\n\n  var notifyObservers = function(autoRequest){\n   if (autoRequest){\n        angular.forEach(autoObserverCallbacks, function(callback){\n          console.log(\"Notify observer in autoRequest\");\n          callback();\n        });\n      } else {\n      angular.forEach(observerCallbacks, function(callback){\n        callback();\n      });\n    }\n  };\n\n  function registerObserverCallback(callback){\n   //register an observer\n        var callbackLength = autoObserverCallbacks.length;\n          while (callbackLength > 0){\n            callbackLength = autoObserverCallbacks.length;\n            autoObserverCallbacks.pop();\n          }\n          autoObserverCallbacks.push(callback);\n      \n      var callbackLength  = observerCallbacks.length;\n      while (callbackLength > 0){\n          callbackLength = observerCallbacks.length;\n          observerCallbacks.pop();\n      }\n      observerCallbacks.push(callback);\n  }\n\n  function getSocialDataRequest(id, offset){\n    var reqOffset = _offset;\n    var request = {\n      \"rid\": \"social\",\n      \"timestamp\": new Date().getTime(),\n      \"method\": \"GET\",\n      \"uri\": encodeURI(LIST_SOCIAL_URI+id+\"?limit=\"+LIMIT+\"&offset=\"+reqOffset)\n    };\n    if (NETWORK_DEBUG)\n    console.log(\"Social Request: \", request);\n    return request;\n  }\n\n\n  function getSocialDataRequestAuto(id){\n    var request = {\n      \"rid\": \"social_auto\",\n      \"timestamp\": new Date().getTime(),\n      \"method\": \"GET\",\n      \"uri\": encodeURI(LIST_SOCIAL_URI+id+\"?limit=\"+LIMIT+\"&offset=\"+0)\n    };\n    if (NETWORK_DEBUG)\n    console.log(\"Social Request Auto: \", request);\n    return request;\n  }\n\n  function formatSocial (tempItem, feedData) {\n    \n    tempItem.postAuthorName = feedData.embedAuthor.name;\n    tempItem.postAuthorAlias = feedData.embedAuthor.alias;\n    tempItem.postAuthorPhoto = feedData.embedAuthor.photo;\n    tempItem.tweetId = feedData.tweet.id;\n    \n    tempItem.postTimestamp = feedData.createdAt;\n    tempItem.providerName = feedData.embedProvider.name;\n    tempItem.html = feedData.embedText;\n    tempItem.retweetCount = feedData.tweet.metrics.retweetCount;\n    tempItem.likeCount = feedData.tweet.metrics.likeCount;\n    tempItem.replyCount = feedData.tweet.metrics.replyCount;\n\n    // Embed Object for Sharing\n    tempItem.embed = feedData.embed;\n    tempItem.embed.embedCreatedAt = feedData.embedCreatedAt;\n    // tempItem.embed.embedCreatedAtFull = feedData.embedCreatedAtFull;\n\n    if (tempItem.providerName === \"Twitter\"){\n      tempItem.providerLogo = \"img/twitterLogo@2x.png\";\n      tempItem.embed.provider.logo = \"img/twitterLogo@2x.png\";\n    } else {\n      tempItem.providerLogo = feedData.embedProvider.logo;\n      tempItem.embed.provider.logo = feedData.embedProvider.logo;\n    }\n\n    tempItem.embedType = feedData.embedType;\n    tempItem.embedUrl = feedData.embedUrl;\n    if (feedData.embedType === \"link\" && feedData.embedPlayable === true){\n      tempItem.embedHtml = feedData.embedHtml;\n      tempItem.embedPlayable = true;\n    }\n    if (feedData.embedType === \"media\" || feedData.embedType === \"link\"){\n      tempItem.mediaType = feedData.embedMedia.mediaType;\n      tempItem.mediaUrl = feedData.embedMedia.mediaUrl;\n      tempItem.mediaThumbUrl = feedData.embedMedia.mediaThumbUrl;\n      tempItem.mediaAspectRatio = feedData.embedMedia.mediaAspectRatio;\n      tempItem.mediaAspectFeed = feedData.embedMedia.mediaAspectFeed;\n      tempItem.mediaAspectFull = feedData.embedMedia.mediaAspectFull;\n      tempItem.mediaOrientation = feedData.embedMedia.mediaOrientation;\n    }\n    return tempItem;\n  }\n\n  return {\n    socialArray: function(){\n      return _socialArray;\n    },\n    resetSocialOffset: function(){\n      _offset = 0;\n    },\n    setSocialData: setSocialData,\n    getSocialDataRequest: getSocialDataRequest,\n    getSocialDataRequestAuto: getSocialDataRequestAuto,\n    registerObserverCallback: registerObserverCallback,\n    formatSocial: formatSocial\n  };\n\n}]);"],"sourceRoot":"/source/"}