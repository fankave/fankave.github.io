angular.module("Stadium",["ui.router","player.social","player.stats"]).config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("pstats",{url:"/player-stats",templateUrl:"templates/player-stats.html",controller:"ctrl.player-stats",controllerAs:"pstat"}).state("psocial",{url:"/player-social",templateUrl:"templates/player-social.html",controller:"ctrl.player-social",controllerAs:"psocial"}),e.otherwise("/player-social")}]).run(["$state","$rootScope",function(t,e){e.$state=t}]),angular.module("player.social",[]).controller("ctrl.player-social",["$http","$timeout","ContentService",function(t,e,n){var i=this;this.showExpandedTweet=!1,this.textContent,this.imageContent,this.videoContent,this.currentContent,n.initContent().then(function(t){n.setSocialContent(t.data),i.textContent=t.data[5],i.imageContent=t.data[2],i.videoContent=t.data[1],i.currentContent=i.textContent.embed}),this.cycleCount=0,this.scheduleNextContent=function(t){i.cycleCount++,1===i.cycleCount?i.currentContent=i.imageContent.embed:2===i.cycleCount&&(i.currentContent=i.videoContent.embed),console.log("Scheduling Next In: ",t),e(function(){console.log("Begin Next"),1===i.cycleCount?i.showExpandedImage=!0:2===i.cycleCount?i.showExpandedVideo=!0:3===i.cycleCount?i.showExpandedVideoB=!0:4===i.cycleCount&&(i.showExpandedVideoC=!0)},t)},this.hidePrevContent=function(){console.log("Hiding Previous"),0===i.cycleCount?i.showExpandedTweet=!1:1===i.cycleCount?i.showExpandedImage=!1:2===i.cycleCount?i.showExpandedVideo=!1:3===i.cycleCount?i.showExpandedVideoB=!1:4===i.cycleCount&&(i.showExpandedVideoC=!1)},$.fn.animateRotate=function(t,e,n,i,a,o){return o=o||"",this.each(function(){var o=$(this);$({deg:t||0}).animate({deg:e},{duration:n,easing:i,step:function(t){o.css({"-webkit-transform":"rotate("+t+"deg)",transform:"rotate("+t+"deg)"})},complete:a||$.noop})})},$.fn.rotateReverse=function(t,e,n,i,a){return this.each(function(){var o=$(this);$({deg:t||0}).animate({deg:e},{duration:n,easing:i,step:function(t){o.css({"-webkit-transform":"rotate(-"+t+"deg)",transform:"rotate(-"+t+"deg)"})},complete:a||$.noop})})},$.fn.animateTranslate=function(t,e,n,i,a,o){return this.each(function(){var c=$(this);$({transform:t}).animate({transform:e},{duration:i,easing:a||"swing",step:function(t){c.css({"-webkit-transform":"translate("+t+n+","+t+n+")",transform:"translate("+t+n+","+t+n+")"})},complete:o||$.noop})})},$.fn.countUp=function(t,e,n,i,a){return this.each(function(){var o=$(this),c=function(t){return Math.floor(t)};$({Counter:e||0}).animate({Counter:n||o.text()},{duration:t,easing:i||"swing",step:function(){o.text(c(this.Counter))},complete:a||$.noop})})}}]),angular.module("player.social").directive("playerEnter",["$compile","$timeout",function(t,e){return{restrict:"A",link:function(t,n,i){function a(){$(".pace-value-hundreds").countUp(7e3,234,243,"linear"),$(".stat-num1").countUp(4e3,40,43,"linear"),$("#circle1a").animateRotate(0,40,4e3),$("#circle1b").animateRotate(-25,15,4e3),$(".stat-num2").countUp(5e3,619,625,"linear",function(){$(".stat-num3").countUp(1e3,9,8),$("#circle3a").rotateReverse(390,365,1e3),$("#circle3b").rotateReverse(390,365,1e3)}),$("#circle2a").animateRotate(60,110,5e3),$("#circle2b").animateRotate(60,110,5e3)}n.bind("load",function(i){$(n).animate({left:"25px"},1e3,function(){t.$apply(function(){t.startRing=!0}),$("#circle1a").animateRotate(0,720,2e3).animate({opacity:"1"},{duration:1e3,start:function(){$("#circle1").animate({opacity:"1"},2e3),$(".meter-pos").animate({width:"265px"},{duration:3500,start:function(){$("#thumbsUp").addClass("pulse")}})},complete:function(){$("#circle2a").animateRotate(60,780,2e3).animate({opacity:"1"},{duration:1e3,start:function(){$("#circle2").animate({opacity:"1"},2e3)},complete:function(){$("#circle3a").animateRotate(330,1050,2e3).animate({opacity:"1"},{duration:1e3,start:function(){$("#circle3").animate({opacity:"1"},2e3)},complete:function(){var t=$("#curry-bg-2").scope();setTimeout(function(){t.$apply(function(){t.psocial.showExpandedTweet=!0})},7e3),e(function(){a()},500)}})}})}}),$("#circle1b").rotateReverse(-25,385,3e3).animate({opacity:"1"},1e3,function(){$("#circle2b").rotateReverse(60,300,3e3).animate({opacity:"1"},1e3,function(){$("#circle3b").rotateReverse(330,390,2e3).animate({opacity:"1"},1e3,function(){})})})})})}}}]),angular.module("player.social").directive("fadeInShift",["$sce",function(t){return{restrict:"A",link:function(t,e,n){"top"===n.fadeInShift?$(e).animate({top:n.fadeEnd,opacity:"1"},1e3):$(e).animate({opacity:"1"},parseInt(n.fadeInShift))}}}]),angular.module("player.social").directive("rotateFadeIn",["$timeout",function(t){return{restrict:"A",link:function(t,e,n){$(e).animateRotate(0,parseInt(n.rotateFadeIn),parseInt(n.fadeDur)).animate({opacity:"1"},2e3)}}}]),angular.module("player.social").directive("rotate",["$timeout",function(t){return{restrict:"A",link:function(t,e,n){$(e).animateRotate(0,720,2e4,"linear")}}}]),angular.module("player.social").directive("showTweetContent",["$timeout",function(t){return{restrict:"A",link:function(t,e,n){var i=n.showTweetContent+"Loaded";$(e).css({width:n.sSize,height:n.sSize,top:n.sTop,left:n.sLeft}),$(e).animateTranslate(0,-1100,"px",3e3),$(e).animate({width:"2220px",height:"2220px",top:"50%",left:"50%"},{duration:3e3,complete:function(){var e=$("#curry-bg-2").scope();n.videoB?e.$apply(function(){e.psocial.videoBLoaded=!0}):n.videoC?e.$apply(function(){e.psocial.videoCLoaded=!0}):t.$apply(function(){t[i]=!0})}})}}}]),angular.module("player.social").directive("expires",["$timeout",function(t){return{restrict:"A",link:function(e,n,i){t(function(){$(n).animate({opacity:0},2e3);var e=$("#curry-bg-2").scope();t(function(){e.$apply(function(){e.psocial.hidePrevContent()}),e.psocial.cycleCount<3&&e.psocial.scheduleNextContent(4e3)},3500)},parseInt(i.expires))}}}]),angular.module("player.stats",[]).controller("ctrl.player-stats",["$http","$timeout",function(t,e){$.fn.countUp=function(t,e,n){return this.each(function(){var i,a=$(this);i=-1===a.text().indexOf(".")?function(t){return Math.ceil(t)}:function(t){return Math.max(Math.round(10*t)/10).toFixed(1)},$({Counter:0}).animate({Counter:a.text()},{duration:t,easing:e||"swing",step:function(){a.text(i(this.Counter))},complete:n||$.noop})})}}]),angular.module("player.stats").directive("barUp",function(){return{restrict:"A",link:function(t,e,n){$(e).css({visibility:"visible"}).animate({height:n.barUp},{duration:800,easing:"swing",start:function(){$("#"+n.assetId).css({visibility:"visible"}).animate({top:n.playerEnd},{duration:900,easing:"swing"})},complete:function(){var e=$("#curry-bg-1").scope();t.$apply(function(){e[n.triggerNext]=!0})}})}}}),angular.module("player.stats").directive("countUp",function(){return{restrict:"A",link:function(t,e,n){$(e).countUp(parseInt(n.countUp))}}}),angular.module("player.stats").directive("triggerStart",function(){return{restrict:"A",link:function(t,e,n){e.bind("load",function(e){t.$apply(function(){t[n.triggerStart]=!0})})}}}),angular.module("player.stats").directive("enterFromRight",function(){return{restrict:"A",link:function(t,e,n){$(e).animate({opacity:"1",left:"1315px"},1500)}}}),angular.module("player.social").directive("expandedTweet",["$sce",function(t){return{restrict:"E",replace:!0,scope:{thisTweet:"="},link:function(e,n,i){i.videoB&&(e.videoB=!0),i.videoC?e.alternate=!0:e.alternate=!1,e.whitelistHtml=t.trustAsHtml(e.thisTweet.text),e.trustSrc=function(e){return t.trustAsResourceUrl(e)},e.convertTime=function(t){},e.mediaType=e.thisTweet.media?e.thisTweet.media[0].mediaType:"text",$(n).animate({opacity:"1"},1e3)},templateUrl:"templates/expanded-tweet.html"}}]),angular.module("player.social").directive("expandAndPlay",["$timeout",function(t){return{restrict:"A",link:function(e,n,i){$(n[0]).animate({width:"1130px"},{duration:2e3,start:function(){var t=$("#curry-bg-2").scope();2===t.psocial.cycleCount?t.psocial.videoReady=!0:3===t.psocial.cycleCount&&(t.psocial.videoBReady=!0)},complete:function(){var e=$("#curry-bg-2").scope();e.$apply(function(){3===e.psocial.cycleCount&&e.psocial.hidePrevContent()}),$(n[0]).on("ended",function(i){t(function(){$(n[0]).animate({width:"800px",opacity:"0"},{duration:1500,start:function(){2===e.psocial.cycleCount?$("#video-bg").animate({opacity:"0"},{duration:1500,complete:function(){e.$apply(function(){e.psocial.videoReady=!1})}}):3===e.psocial.cycleCount&&$("#video-bgB").animate({opacity:"0"},{duration:1500,complete:function(){e.$apply(function(){e.psocial.videoBReady=!1,e.psocial.videoBLoaded=!1})}})},complete:function(){var i=$("#tweet-bubble")||$(n.context.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement);i.animate({opacity:0},2e3),t(function(){e.$apply(function(){e.psocial.hidePrevContent(),e.psocial.cycleCount<4&&e.psocial.scheduleNextContent(4e3)})},3500)}})},1e3)}),n[0].play()}})}}}]),angular.module("player.social").directive("playFull",["$timeout",function(t){return{restrict:"A",link:function(t,e,n){$(e).css({width:"1130px"});var i=$("#curry-bg-2").scope();i.psocial.videoCReady=!0,i.psocial.hidePrevContent(),$(e[0]).on("ended",function(t){$(e[0]).animate({opacity:"0"},{duration:1500,start:function(){$("#video-bgC").animate({opacity:"0"},{duration:1500,complete:function(){i.$apply(function(){i.psocial.videoCReady=!1,i.psocial.videoCLoaded=!1})}})}})}),e[0].play()}}}]),angular.module("Stadium").factory("ContentService",["$http",function(t){function e(){return t.get("http://dev.fankave.com/stadium/demo/curry/social/tweets.json")}function n(t){return t=t||0,a[t]}function i(t){a=t}var a;return{initContent:e,getSocialContent:n,setSocialContent:i}}]);
//# sourceMappingURL=app.min.js.map
