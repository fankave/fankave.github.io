angular.module("Stadium",["ui.router","player.social","player.stats"]).config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("pstats",{url:"/player-stats",templateUrl:"templates/player-stats.html",controller:"ctrl.player-stats",controllerAs:"pstat"}).state("psocial",{url:"/player-social",templateUrl:"templates/player-social.html",controller:"ctrl.player-social",controllerAs:"psocial"}),e.otherwise("/player-social")}]).run(["$state","$rootScope",function(t,e){e.$state=t}]),angular.module("player.social",[]).controller("ctrl.player-social",["$http","$timeout","ContentService",function(t,e,n){var a=this;this.showExpandedTweet=!1,this.textContent,this.imageContent,this.videoContent,this.currentContent,n.initContent().then(function(t){n.setSocialContent(t.data),a.textContent=t.data[5],a.imageContent=t.data[2],a.videoContent=t.data[1],a.currentContent=a.textContent.embed}),this.cycleCount=0,this.scheduleNextContent=function(t){a.cycleCount++,1===a.cycleCount?a.currentContent=a.imageContent.embed:2===a.cycleCount&&(a.currentContent=a.videoContent.embed),e(function(){1===a.cycleCount?a.showExpandedImage=!0:2===a.cycleCount&&(a.showExpandedVideo=!0)},t)},this.hidePrevContent=function(){0===a.cycleCount?a.showExpandedTweet=!1:1===a.cycleCount?a.showExpandedImage=!1:2===a.cycleCount&&(a.showExpandedVideo=!1)},$.fn.animateRotate=function(t,e,n,a,i,o){return o=o||"",this.each(function(){var o=$(this);$({deg:t||0}).animate({deg:e},{duration:n,easing:a,step:function(t){o.css({"-webkit-transform":"rotate("+t+"deg)",transform:"rotate("+t+"deg)"})},complete:i||$.noop})})},$.fn.rotateReverse=function(t,e,n,a,i){return this.each(function(){var o=$(this);$({deg:t||0}).animate({deg:e},{duration:n,easing:a,step:function(t){o.css({"-webkit-transform":"rotate(-"+t+"deg)",transform:"rotate(-"+t+"deg)"})},complete:i||$.noop})})},$.fn.animateTranslate=function(t,e,n,a,i,o){return this.each(function(){var r=$(this);$({transform:t}).animate({transform:e},{duration:a,easing:i||"swing",step:function(t){r.css({"-webkit-transform":"translate("+t+n+","+t+n+")",transform:"translate("+t+n+","+t+n+")"})},complete:o||$.noop})})}}]),angular.module("player.social").directive("playerEnter",["$compile",function(t){return{restrict:"A",link:function(t,e,n){e.bind("load",function(n){$(e).animate({left:"25px"},1e3,function(){t.$apply(function(){t.startRing=!0}),$("#circle1a").animateRotate(0,720,2e3).animate({opacity:"1"},{duration:1e3,start:function(){$("#circle1").animate({opacity:"1"},2e3),$(".meter-pos").animate({width:"265px"},{duration:3500,start:function(){$("#thumbsUp").addClass("pulse")}})},complete:function(){$("#circle2a").animateRotate(60,780,2e3).animate({opacity:"1"},{duration:1e3,start:function(){$("#circle2").animate({opacity:"1"},2e3)},complete:function(){$("#circle3a").animateRotate(330,1050,2e3).animate({opacity:"1"},{duration:1e3,start:function(){$("#circle3").animate({opacity:"1"},2e3)},complete:function(){var t=$("#curry-bg-2").scope();setTimeout(function(){t.$apply(function(){t.psocial.showExpandedTweet=!0})},7e3)}})}})}}),$("#circle1b").rotateReverse(-25,385,3e3).animate({opacity:"1"},1e3,function(){$("#circle2b").rotateReverse(60,300,3e3).animate({opacity:"1"},1e3,function(){$("#circle3b").rotateReverse(330,390,2e3).animate({opacity:"1"},1e3,function(){})})})})})}}}]),angular.module("player.social").directive("fadeInShift",["$sce",function(t){return{restrict:"A",link:function(t,e,n){"top"===n.fadeInShift?$(e).animate({top:n.fadeEnd,opacity:"1"},1e3):$(e).animate({opacity:"1"},parseInt(n.fadeInShift))}}}]),angular.module("player.social").directive("rotateFadeIn",["$timeout",function(t){return{restrict:"A",link:function(t,e,n){$(e).animateRotate(0,parseInt(n.rotateFadeIn),parseInt(n.fadeDur)).animate({opacity:"1"},2e3)}}}]),angular.module("player.social").directive("rotate",["$timeout",function(t){return{restrict:"A",link:function(t,e,n){$(e).animateRotate(0,720,2e4,"linear")}}}]),angular.module("player.social").directive("showTweetContent",["$timeout",function(t){return{restrict:"A",link:function(t,e,n){var a=n.showTweetContent+"Loaded";$(e).css({width:n.sSize,height:n.sSize,top:n.sTop,left:n.sLeft}),$(e).animateTranslate(0,-1100,"px",3e3),$(e).animate({width:"2220px",height:"2220px",top:"50%",left:"50%"},{duration:3e3,complete:function(){t.$apply(function(){t[a]=!0})}})}}}]),angular.module("player.social").directive("expires",["$timeout",function(t){return{restrict:"A",link:function(e,n,a){t(function(){$(n).animate({opacity:0},2e3);var e=$("#curry-bg-2").scope();t(function(){e.$apply(function(){e.psocial.hidePrevContent()}),e.psocial.cycleCount<2&&e.psocial.scheduleNextContent(4e3)},3500)},parseInt(a.expires))}}}]),angular.module("player.stats",[]).controller("ctrl.player-stats",["$http","$timeout",function(t,e){$.fn.countUp=function(t,e,n){return this.each(function(){var a,i=$(this);a=-1===i.text().indexOf(".")?function(t){return Math.ceil(t)}:function(t){return Math.max(Math.round(10*t)/10).toFixed(1)},$({Counter:0}).animate({Counter:i.text()},{duration:t,easing:e||"swing",step:function(){i.text(a(this.Counter))},complete:n||$.noop})})}}]),angular.module("player.stats").directive("barUp",function(){return{restrict:"A",link:function(t,e,n){$(e).css({visibility:"visible"}).animate({height:n.barUp},{duration:800,easing:"swing",start:function(){$("#"+n.assetId).css({visibility:"visible"}).animate({top:n.playerEnd},{duration:900,easing:"swing"})},complete:function(){var e=$("#curry-bg-1").scope();t.$apply(function(){e[n.triggerNext]=!0})}})}}}),angular.module("player.stats").directive("countUp",function(){return{restrict:"A",link:function(t,e,n){$(e).countUp(parseInt(n.countUp))}}}),angular.module("player.stats").directive("triggerStart",function(){return{restrict:"A",link:function(t,e,n){e.bind("load",function(e){t.$apply(function(){t[n.triggerStart]=!0})})}}}),angular.module("player.stats").directive("enterFromRight",function(){return{restrict:"A",link:function(t,e,n){$(e).animate({opacity:"1",left:"1315px"},1500)}}}),angular.module("player.social").directive("expandedTweet",["$sce",function(t){return{restrict:"E",replace:!0,scope:{thisTweet:"="},link:function(e,n,a){e.whitelistHtml=t.trustAsHtml(e.thisTweet.text),e.trustSrc=function(e){return t.trustAsResourceUrl(e)},e.convertTime=function(t){},e.mediaType=e.thisTweet.media?e.thisTweet.media[0].mediaType:"text",$(n).animate({opacity:"1"},1e3)},templateUrl:"templates/expanded-tweet.html"}}]),angular.module("player.social").directive("expandAndPlay",["$timeout",function(t){return{restrict:"A",link:function(e,n,a){console.log(n),$(n).animate({width:"1130px"},{duration:2e3,start:function(){var t=$("#curry-bg-2").scope();t.psocial.videoReady=!0},complete:function(){var e=$("#curry-bg-2").scope();$(n[0]).on("ended",function(a){t(function(){$(n).animate({width:"800px"},{duration:1500,start:function(){$("#video-bg").animate({opacity:"0"},{duration:1500,complete:function(){e.$apply(function(){e.psocial.videoReady=!1})}})},complete:function(){var a=$("#tweet-bubble")||$(n.context.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement);a.animate({opacity:0},2e3),t(function(){e.$apply(function(){e.psocial.hidePrevContent()})},3500)}})},1e3)}),n[0].play()}})}}}]),angular.module("Stadium").factory("ContentService",["$http",function(t){function e(){return t.get("http://dev.fankave.com/stadium/demo/curry/social/tweets.json")}function n(t){return t=t||0,i[t]}function a(t){i=t}var i;return{initContent:e,getSocialContent:n,setSocialContent:a}}]);
//# sourceMappingURL=app.min.js.map
