angular.module("Stadium",["ui.router","player.social","player.stats"]).config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("pstats",{url:"/player-stats",templateUrl:"templates/player-stats.html",controller:"ctrl.player-stats",controllerAs:"pstat"}).state("psocial",{url:"/player-social",templateUrl:"templates/player-social.html",controller:"ctrl.player-social",controllerAs:"psocial"}),e.otherwise("/player-social")}]).run(["$state","$rootScope",function(t,e){e.$state=t}]),angular.module("player.social",[]).controller("ctrl.player-social",["$http","$timeout","ContentService",function(t,e,n){function a(){$(".pace-value-hundreds").countUp(3e3,243,247,"linear"),$(".stat-num1").countUp(2500,42,41,"linear"),$("#circle1a").animateRotate(40,0,2500),$("#circle1b").animateRotate(15,-25,2500),$(".stat-num2").countUp(2500,624,620,"linear",function(){$(".stat-num3").countUp(1e3,8,10),$("#circle3a").animateRotate(355,335,1e3),$("#circle3b").animateRotate(355,335,1e3)}),$("#circle2a").animateRotate(110,90,2500),$("#circle2b").animateRotate(110,90,2500)}function i(){$(".pace-value-hundreds").countUp(3e3,246,261,"linear"),$(".stat-num1").countUp(2500,41,44,"linear"),$("#circle1a").animateRotate(0,50,2500),$("#circle1b").animateRotate(-25,25,2500),$(".stat-num2").countUp(2500,620,626,"linear",function(){$(".stat-num3").countUp(1e3,9,8),$("#circle3a").animateRotate(335,312,1e3),$("#circle3b").animateRotate(335,312,1e3)}),$("#circle2a").animateRotate(90,125,2500),$("#circle2b").animateRotate(90,125,2500)}var o=this;this.showExpandedTweet=!1,this.textContent,this.imageContent,this.videoContent,this.currentContent,n.initContent().then(function(t){n.setSocialContent(t.data),o.textContent=t.data[5],o.imageContent=t.data[2],o.videoContent=t.data[1],o.currentContent=o.textContent.embed}),this.cycleCount=0,this.scheduleNextContent=function(t){o.cycleCount++,1===o.cycleCount?o.currentContent=o.imageContent.embed:2===o.cycleCount&&(o.currentContent=o.videoContent.embed),console.log("Scheduling Next In: ",t),e(function(){1===o.cycleCount?o.showExpandedImage=!0:2===o.cycleCount&&(o.showExpandedVideo=!0)},t)},this.hidePrevContent=function(){console.log("Hiding Previous"),0===o.cycleCount?(o.showExpandedTweet=!1,a()):1===o.cycleCount?(o.showExpandedImage=!1,i()):2===o.cycleCount&&(o.showExpandedVideo=!1)},$.fn.animateRotate=function(t,e,n,a,i,o){return o=o||"",this.each(function(){var o=$(this);$({deg:t||0}).animate({deg:e},{duration:n,easing:a,step:function(t){o.css({"-webkit-transform":"rotate("+t+"deg)",transform:"rotate("+t+"deg)"})},complete:i||$.noop})})},$.fn.rotateReverse=function(t,e,n,a,i){return this.each(function(){var o=$(this);$({deg:t||0}).animate({deg:e},{duration:n,easing:a,step:function(t){o.css({"-webkit-transform":"rotate(-"+t+"deg)",transform:"rotate(-"+t+"deg)"})},complete:i||$.noop})})},$.fn.animateTranslate=function(t,e,n,a,i,o){return this.each(function(){var c=$(this);$({transform:t}).animate({transform:e},{duration:a,easing:i||"swing",step:function(t){c.css({"-webkit-transform":"translate("+t+n+","+t+n+")",transform:"translate("+t+n+","+t+n+")"})},complete:o||$.noop})})},$.fn.countUp=function(t,e,n,a,i){return this.each(function(){var o=$(this),c=function(t){return Math.floor(t)};$({Counter:e||0}).animate({Counter:n||o.text()},{duration:t,easing:a||"swing",step:function(){o.text(c(this.Counter))},complete:i||$.noop})})}}]),angular.module("player.social").directive("playerEnter",["$compile","$timeout",function(t,e){return{restrict:"A",link:function(t,n,a){function i(){$(".pace-value-hundreds").countUp(7e3,234,243,"linear"),$(".stat-num1").countUp(4e3,40,43,"linear"),$("#circle1a").animateRotate(0,40,4e3),$("#circle1b").animateRotate(-25,15,4e3),$(".stat-num2").countUp(5e3,619,625,"linear",function(){$(".stat-num3").countUp(1e3,9,8),$("#circle3a").rotateReverse(390,365,1e3),$("#circle3b").rotateReverse(390,365,1e3)}),$("#circle2a").animateRotate(60,110,5e3),$("#circle2b").animateRotate(60,110,5e3)}n.bind("load",function(a){$(n).animate({left:"25px"},1e3,function(){t.$apply(function(){t.startRing=!0}),$("#circle1a").animateRotate(0,720,3e3).animate({opacity:"1"},{duration:1e3,start:function(){$("#circle1").animate({opacity:"1"},2e3),$(".meter-pos").animate({width:"265px"},{duration:3500,start:function(){$("#thumbsUp").addClass("pulse")}})},complete:function(){$("#circle2a").animateRotate(60,780,3e3).animate({opacity:"1"},{duration:1e3,start:function(){$("#circle2").animate({opacity:"1"},2e3)},complete:function(){$("#circle3a").animateRotate(330,1050,3e3).animate({opacity:"1"},{duration:1e3,start:function(){$("#circle3").animate({opacity:"1"},2e3)},complete:function(){var t=$("#curry-bg-2").scope();setTimeout(function(){t.$apply(function(){t.psocial.showExpandedTweet=!0})},7500),e(function(){i()},1500)}})}})}}),$("#circle1b").animateRotate(-25,695,3e3).animate({opacity:"1"},1e3,function(){$("#circle2b").animateRotate(60,780,3e3).animate({opacity:"1"},1e3,function(){$("#circle3b").animateRotate(330,1050,3e3).animate({opacity:"1"},1e3,function(){})})})})})}}}]),angular.module("player.social").directive("fadeInShift",["$sce",function(t){return{restrict:"A",link:function(t,e,n){"top"===n.fadeInShift?$(e).animate({top:n.fadeEnd,opacity:"1"},1e3):$(e).animate({opacity:"1"},parseInt(n.fadeInShift))}}}]),angular.module("player.social").directive("rotateFadeIn",["$timeout",function(t){return{restrict:"A",link:function(t,e,n){$(e).animateRotate(0,parseInt(n.rotateFadeIn),parseInt(n.fadeDur)).animate({opacity:"1"},2e3)}}}]),angular.module("player.social").directive("rotate",["$timeout",function(t){return{restrict:"A",link:function(t,e,n){$(e).animateRotate(0,720,2e4,"linear")}}}]),angular.module("player.social").directive("showTweetContent",["$timeout",function(t){return{restrict:"A",link:function(t,e,n){var a=n.showTweetContent+"Loaded";$(e).css({width:n.sSize,height:n.sSize,top:n.sTop,left:n.sLeft}),$(e).animateTranslate(0,-1100,"px",3e3),$(e).animate({width:"2220px",height:"2220px",top:"50%",left:"50%"},{duration:3e3,complete:function(){var e=$("#curry-bg-2").scope();n.videoC?e.$apply(function(){e.psocial.videoCLoaded=!0}):t.$apply(function(){t[a]=!0})}})}}}]),angular.module("player.social").directive("expires",["$timeout",function(t){return{restrict:"A",link:function(e,n,a){t(function(){$(n).animate({opacity:0},2e3);var e=$("#curry-bg-2").scope();t(function(){e.$apply(function(){e.psocial.hidePrevContent()}),e.psocial.cycleCount<3&&e.psocial.scheduleNextContent(2500)},2100)},parseInt(a.expires))}}}]),angular.module("player.stats",[]).controller("ctrl.player-stats",["$http","$timeout",function(t,e){$.fn.countUp=function(t,e,n){return this.each(function(){var a,i=$(this);a=-1===i.text().indexOf(".")?function(t){return Math.ceil(t)}:function(t){return Math.max(Math.round(10*t)/10).toFixed(1)},$({Counter:0}).animate({Counter:i.text()},{duration:t,easing:e||"swing",step:function(){i.text(a(this.Counter))},complete:n||$.noop})})}}]),angular.module("player.stats").directive("barUp",function(){return{restrict:"A",link:function(t,e,n){$(e).css({visibility:"visible"}).animate({height:n.barUp},{duration:800,easing:"swing",start:function(){$("#"+n.assetId).css({visibility:"visible"}).animate({top:n.playerEnd},{duration:900,easing:"swing"})},complete:function(){var e=$("#curry-bg-1").scope();t.$apply(function(){e[n.triggerNext]=!0})}})}}}),angular.module("player.stats").directive("countUp",function(){return{restrict:"A",link:function(t,e,n){$(e).countUp(parseInt(n.countUp))}}}),angular.module("player.stats").directive("triggerStart",function(){return{restrict:"A",link:function(t,e,n){e.bind("load",function(e){t.$apply(function(){t[n.triggerStart]=!0})})}}}),angular.module("player.stats").directive("enterFromRight",["$timeout","$state",function(t,e){return{restrict:"A",link:function(n,a,i){$(a).animate({opacity:"1",left:"1315px"},{duration:1500,complete:function(){t(function(){e.go(e.current,{},{reload:!0})},1e4)}})}}}]),angular.module("player.social").directive("expandedTweet",["$sce",function(t){return{restrict:"E",replace:!0,scope:{thisTweet:"="},link:function(e,n,a){a.videoB&&(e.videoB=!0),a.videoC?e.alternate=!0:e.alternate=!1,e.whitelistHtml=t.trustAsHtml(e.thisTweet.text),e.trustSrc=function(e){return t.trustAsResourceUrl(e)},e.convertTime=function(t){},e.mediaType=e.thisTweet.media?e.thisTweet.media[0].mediaType:"text",$(n).animate({opacity:"1"},1e3)},templateUrl:"templates/expanded-tweet.html"}}]),angular.module("player.social").directive("expandAndPlay",["$timeout",function(t){return{restrict:"A",link:function(e,n,a){$(n[0]).animate({width:"1130px"},{duration:2e3,start:function(){var t=$("#curry-bg-2").scope();2===t.psocial.cycleCount?t.psocial.videoReady=!0:3===t.psocial.cycleCount&&(t.psocial.videoBReady=!0)},complete:function(){var e=$("#curry-bg-2").scope();e.$apply(function(){3===e.psocial.cycleCount&&e.psocial.hidePrevContent()}),$(n[0]).on("ended",function(a){t(function(){$(n[0]).animate({width:"800px",opacity:"0"},{duration:1500,start:function(){2===e.psocial.cycleCount?$("#video-bg").animate({opacity:"0"},{duration:1500,complete:function(){e.$apply(function(){e.psocial.videoReady=!1})}}):3===e.psocial.cycleCount&&$("#video-bgB").animate({opacity:"0"},{duration:1500,complete:function(){e.$apply(function(){e.psocial.videoBReady=!1,e.psocial.videoBLoaded=!1})}})},complete:function(){var a=$("#tweet-bubble")||$(n.context.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement);a.animate({opacity:0},2e3),t(function(){e.$apply(function(){e.psocial.hidePrevContent(),e.psocial.cycleCount<4&&e.psocial.scheduleNextContent(2500)})},3500)}})},1e3)}),n[0].play()}})}}}]),angular.module("player.social").directive("playFull",["$timeout","$state",function(t,e){return{restrict:"A",link:function(n,a,i){var o=$("#curry-bg-2").scope();o.psocial.videoCReady=!0,o.psocial.hidePrevContent(),$(a[0]).on("ended",function(n){$(a[0]).animate({opacity:"0"},{duration:1e3,start:function(){$("#video-bgC").animate({opacity:"0"},{duration:3e3,start:function(){o.$apply(function(){o.psocial.videoCLoaded=!1})},complete:function(){o.$apply(function(){o.psocial.videoCReady=!1}),t(function(){e.go(e.current,{},{reload:!0})},1e3)}})}})}),a[0].play()}}}]),angular.module("Stadium").factory("ContentService",["$http",function(t){function e(){return t.get("http://dev.fankave.com/stadium/demo/curry/social/tweets.json")}function n(t){return t=t||0,i[t]}function a(t){i=t}var i;return{initContent:e,getSocialContent:n,setSocialContent:a}}]);
//# sourceMappingURL=app.min.js.map
